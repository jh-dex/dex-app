<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1.0"/>
<title>ë§›ì§‘ê¸°ë¡ â€” ë‚˜ë§Œì˜ ë§›ì§‘ ë¦¬ë·° ì„œë¹„ìŠ¤</title>
<link rel="preconnect" href="https://fonts.googleapis.com"/>
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;600;700;900&display=swap" rel="stylesheet"/>

<!-- ì¹´ì¹´ì˜¤ë§µ JavaScript SDK -->
<script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=YOUR_JAVASCRIPT_KEY_HERE&libraries=services"></script>

<style>
:root{--brand:#D4603A;--brand-light:#F2A07B;--brand-dark:#A3412A;--brand-bg:#FFF5EF;--bg:#FAF7F4;--surface:#FFF;--neutral-50:#FAFAF9;--neutral-100:#F5F4F2;--neutral-200:#E5E2DE;--neutral-300:#D1CCC5;--neutral-400:#A9A29A;--neutral-500:#7C7670;--neutral-600:#5C5650;--neutral-700:#44403A;--neutral-800:#2C2924;--neutral-900:#1A1816;--radius-sm:8px;--radius-md:14px;--radius-lg:20px;--radius-xl:28px;--shadow-sm:0 1px 3px rgba(26,24,22,.04),0 1px 2px rgba(26,24,22,.03);--shadow-md:0 4px 16px rgba(26,24,22,.06),0 2px 4px rgba(26,24,22,.04);--shadow-lg:0 12px 40px rgba(26,24,22,.08),0 4px 12px rgba(26,24,22,.04);--shadow-hover:0 8px 30px rgba(212,96,58,.12),0 4px 8px rgba(26,24,22,.06);--space-xs:4px;--space-sm:8px;--space-md:16px;--space-lg:24px;--space-xl:40px;--space-2xl:64px}
*{box-sizing:border-box;margin:0;padding:0}
body{font-family:'Noto Sans KR',sans-serif;background:var(--bg);min-height:100vh}
#root{min-height:100vh}
.page-enter{opacity:1;transform:translateY(0);transition:all .35s cubic-bezier(.22,1,.36,1)}
.page-exit{opacity:0;transform:translateY(12px)}
.card-item{transition:all .3s cubic-bezier(.22,1,.36,1);cursor:pointer}
.card-item:hover{transform:translateY(-4px);box-shadow:var(--shadow-hover)}
.btn-primary{background:var(--brand);color:#fff;border:none;padding:14px 32px;border-radius:var(--radius-md);font-family:'Noto Sans KR',sans-serif;font-weight:600;font-size:15px;cursor:pointer;transition:all .2s;letter-spacing:-.02em}
.btn-primary:hover{background:var(--brand-dark);transform:translateY(-1px);box-shadow:0 4px 12px rgba(212,96,58,.3)}
.btn-primary:disabled{background:var(--neutral-300);cursor:not-allowed;transform:none;box-shadow:none}
.btn-secondary{background:transparent;color:var(--neutral-600);border:1.5px solid var(--neutral-200);padding:12px 28px;border-radius:var(--radius-md);font-family:'Noto Sans KR',sans-serif;font-weight:500;font-size:15px;cursor:pointer;transition:all .2s;letter-spacing:-.02em}
.btn-secondary:hover{border-color:var(--brand);color:var(--brand);background:var(--brand-bg)}
.input-field{width:100%;padding:14px 18px;border:1.5px solid var(--neutral-200);border-radius:var(--radius-md);font-family:'Noto Sans KR',sans-serif;font-size:15px;color:var(--neutral-800);background:var(--surface);transition:all .2s;outline:none;letter-spacing:-.02em}
.input-field::placeholder{color:var(--neutral-400)}
.input-field:focus{border-color:var(--brand);box-shadow:0 0 0 3px rgba(212,96,58,.1)}
.stagger-item{opacity:0;transform:translateY(16px);animation:fadeUp .5s cubic-bezier(.22,1,.36,1) forwards}
@keyframes fadeUp{to{opacity:1;transform:translateY(0)}}
@keyframes slideDown{from{opacity:0;transform:translateY(-8px)}to{opacity:1;transform:translateY(0)}}
@keyframes spin{to{transform:rotate(360deg)}}
.review-item{animation:slideDown .3s ease forwards}
.search-item{padding:16px 20px;cursor:pointer;transition:all .15s;border-bottom:1px solid var(--neutral-100)}
.search-item:hover{background:var(--brand-bg)}
.search-item:last-child{border-bottom:none}
.tag{display:inline-flex;align-items:center;gap:4px;padding:5px 12px;border-radius:100px;font-size:12px;font-weight:600;letter-spacing:-.02em}
@media(max-width:640px){.responsive-grid{grid-template-columns:1fr!important}.hero-title{font-size:28px!important}.container-main{padding:0 16px!important}}
</style>
</head>
<body>
<div id="root"></div>
<script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react.dom.production.min.js"></script>
<script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
<script type="text/babel">
const {useState,useEffect,useRef} = React;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// CONFIG â€” ì—¬ê¸°ì— í‚¤ë¥¼ ë„£ìœ¼ë©´ ì‹¤ì„œë¹„ìŠ¤ë¡œ ì „í™˜ë©ë‹ˆë‹¤
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const SUPABASE_URL = "https://wxlqnlkxxddoszcoypbn.supabase.co";
const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4bHFubGt4eGRkb3N6Y295cGJuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzA5NzkwNTksImV4cCI6MjA4NjU1NTA1OX0.Dmad5ZyA0wqtWAMg7q--KzW8i8_WBQMDT2364oPFOic";

// â­ ì¹´ì¹´ì˜¤ë§µ JavaScript í‚¤ë¥¼ ì—¬ê¸°ì— ì…ë ¥í•˜ì„¸ìš”
// ì¹´ì¹´ì˜¤ ê°œë°œì ì½˜ì†” (https://developers.kakao.com)ì—ì„œ
const KAKAO_JAVASCRIPT_KEY = "f9808cf4bbd88596818153811b814a67";

const USE_DB = !!(SUPABASE_URL && SUPABASE_ANON_KEY);
const USE_KAKAO = !!(KAKAO_JAVASCRIPT_KEY && KAKAO_JAVASCRIPT_KEY !== "YOUR_JAVASCRIPT_KEY_HERE");

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Supabase ê°„ì´ í´ë¼ì´ì–¸íŠ¸ (SDK ì—†ì´ REST API ì§ì ‘ í˜¸ì¶œ)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const sb = {
  headers: { "apikey": SUPABASE_ANON_KEY, "Authorization": `Bearer ${SUPABASE_ANON_KEY}`, "Content-Type": "application/json", "Prefer": "return=representation" },
  async get(table, params = "") {
    const r = await fetch(`${SUPABASE_URL}/rest/v1/${table}?${params}`, { headers: this.headers });
    return r.json();
  },
  async post(table, body) {
    const r = await fetch(`${SUPABASE_URL}/rest/v1/${table}`, { method: "POST", headers: this.headers, body: JSON.stringify(body) });
    return r.json();
  }
};

// DBì—ì„œ ë§›ì§‘ + ë¦¬ë·° ì „ì²´ ë¡œë“œ
async function loadFromDB() {
  const restaurants = await sb.get("restaurants", "order=created_at.desc");
  const reviews = await sb.get("reviews", "order=created_at.desc");
  return restaurants.map(r => ({
    id: r.id, name: r.name, address: r.address, category: r.category,
    phone: r.phone, mapLink: r.map_link,
    reviews: reviews.filter(rv => rv.restaurant_id === r.id).map(rv => ({
      id: rv.id, nickname: rv.nickname, rating: rv.rating,
      comment: rv.comment, createdAt: rv.created_at.slice(0, 10)
    }))
  }));
}

// DBì— ë§›ì§‘ ì¶”ê°€
async function addRestaurantToDB(data) {
  const res = await sb.post("restaurants", {
    name: data.name, address: data.address, category: data.category,
    phone: data.phone, map_link: data.mapLink
  });
  return res[0];
}

// DBì— ë¦¬ë·° ì¶”ê°€
async function addReviewToDB(restaurantId, data) {
  const res = await sb.post("reviews", {
    restaurant_id: restaurantId, nickname: data.nickname,
    rating: data.rating, comment: data.comment
  });
  return res[0];
}

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ì¹´ì¹´ì˜¤ë§µ ê²€ìƒ‰ (Mock / ì‹¤ì œ API)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const MOCK_SEARCH_DB = [
  {place_name:"ì„ì§€ë¡œ ê³¨ëª©ì‹ë‹¹",address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ 14ê¸¸ 25",road_address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ14ê¸¸ 25",category_name:"ìŒì‹ì  > í•œì‹",phone:"02-2266-1234",place_url:"https://place.map.kakao.com/12345",x:"126.991",y:"37.566"},
  {place_name:"ì„ì§€ë¡œ ë…¸ê°€ë¦¬ê³¨ëª© í˜¸í”„",address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ3ê°€ 277",road_address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ 112",category_name:"ìŒì‹ì  > í˜¸í”„/ë§¥ì£¼",phone:"02-2279-5678",place_url:"https://place.map.kakao.com/12346",x:"126.992",y:"37.567"},
  {place_name:"ì„ì§€ë©´ì˜¥",address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ 38ê¸¸ 12",road_address_name:"ì„œìš¸ ì¤‘êµ¬ ì„ì§€ë¡œ38ê¸¸ 12",category_name:"ìŒì‹ì  > í•œì‹ > ëƒ‰ë©´",phone:"02-2267-8901",place_url:"https://place.map.kakao.com/12347",x:"126.993",y:"37.565"},
  {place_name:"ì—°ë‚¨ë™ íŒŒìŠ¤íƒ€ë°”",address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ì—°ë‚¨ë¡œ 3ê¸¸ 18",road_address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ì—°ë‚¨ë¡œ3ê¸¸ 18",category_name:"ìŒì‹ì  > ì–‘ì‹ > íŒŒìŠ¤íƒ€",phone:"02-332-1234",place_url:"https://place.map.kakao.com/22345",x:"126.921",y:"37.566"},
  {place_name:"ë¼í¬ë¥´íˆ¬ë‚˜ íŒŒìŠ¤íƒ€",address_name:"ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 231",road_address_name:"ì„œìš¸ ê°•ë‚¨êµ¬ ì—­ì‚¼ë¡œ 231",category_name:"ìŒì‹ì  > ì–‘ì‹ > íŒŒìŠ¤íƒ€",phone:"02-555-6789",place_url:"https://place.map.kakao.com/22346",x:"127.036",y:"37.501"},
  {place_name:"ì„±ìˆ˜ ìˆ˜ì œë²„ê±°",address_name:"ì„œìš¸ ì„±ë™êµ¬ ì„œìš¸ìˆ²2ê¸¸ 44",road_address_name:"ì„œìš¸ ì„±ë™êµ¬ ì„œìš¸ìˆ²2ê¸¸ 44",category_name:"ìŒì‹ì  > ì–‘ì‹ > í–„ë²„ê±°",phone:"02-499-3456",place_url:"https://place.map.kakao.com/32345",x:"127.044",y:"37.544"},
  {place_name:"ë‹¤ìš´íƒ€ìš°ë„ˆ ì„±ìˆ˜ì ",address_name:"ì„œìš¸ ì„±ë™êµ¬ ì„œìš¸ìˆ²4ê¸¸ 18",road_address_name:"ì„œìš¸ ì„±ë™êµ¬ ì„œìš¸ìˆ²4ê¸¸ 18",category_name:"ìŒì‹ì  > ì–‘ì‹ > í–„ë²„ê±°",phone:"02-498-7890",place_url:"https://place.map.kakao.com/32346",x:"127.045",y:"37.545"},
  {place_name:"ì‰ì´í¬ì‰‘ ê°•ë‚¨ì ",address_name:"ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 452",road_address_name:"ì„œìš¸ ê°•ë‚¨êµ¬ ê°•ë‚¨ëŒ€ë¡œ 452",category_name:"ìŒì‹ì  > ì–‘ì‹ > í–„ë²„ê±°",phone:"02-6925-1234",place_url:"https://place.map.kakao.com/32347",x:"127.028",y:"37.497"},
  {place_name:"ë§ì›ì‹œì¥ ë–¡ë³¶ì´",address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ë§ì›ë¡œ 62",road_address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ë§ì›ë¡œ 62",category_name:"ìŒì‹ì  > ë¶„ì‹",phone:"02-335-4567",place_url:"https://place.map.kakao.com/42345",x:"126.909",y:"37.556"},
  {place_name:"ì‹ ë‹¹ë™ ë–¡ë³¶ì´íƒ€ìš´",address_name:"ì„œìš¸ ì¤‘êµ¬ í‡´ê³„ë¡œ76ê°€ê¸¸ 21",road_address_name:"ì„œìš¸ ì¤‘êµ¬ í‡´ê³„ë¡œ76ê°€ê¸¸ 21",category_name:"ìŒì‹ì  > ë¶„ì‹",phone:"02-2232-8901",place_url:"https://place.map.kakao.com/42346",x:"127.009",y:"37.558"},
  {place_name:"ì´íƒœì› íƒ€ì½”ì§‘",address_name:"ì„œìš¸ ìš©ì‚°êµ¬ ì´íƒœì›ë¡œ 27ê¸¸ 8",road_address_name:"ì„œìš¸ ìš©ì‚°êµ¬ ì´íƒœì›ë¡œ27ê¸¸ 8",category_name:"ìŒì‹ì  > ë©•ì‹œì¹¸",phone:"02-797-2345",place_url:"https://place.map.kakao.com/52345",x:"126.994",y:"37.534"},
  {place_name:"ë¹„ë°”íƒ€ì½” í•œë‚¨ì ",address_name:"ì„œìš¸ ìš©ì‚°êµ¬ í•œë‚¨ëŒ€ë¡œ 42ê¸¸ 30",road_address_name:"ì„œìš¸ ìš©ì‚°êµ¬ í•œë‚¨ëŒ€ë¡œ42ê¸¸ 30",category_name:"ìŒì‹ì  > ë©•ì‹œì¹¸",phone:"02-749-6789",place_url:"https://place.map.kakao.com/52346",x:"126.997",y:"37.536"},
  {place_name:"ê´‘ì¥ì‹œì¥ ë¹ˆëŒ€ë–¡",address_name:"ì„œìš¸ ì¢…ë¡œêµ¬ ì°½ê²½ê¶ë¡œ 88",road_address_name:"ì„œìš¸ ì¢…ë¡œêµ¬ ì°½ê²½ê¶ë¡œ 88",category_name:"ìŒì‹ì  > í•œì‹ > ì „/ë¹ˆëŒ€ë–¡",phone:"02-2267-0903",place_url:"https://place.map.kakao.com/62345",x:"126.999",y:"37.570"},
  {place_name:"í™ëŒ€ ìŠ¤ì‹œì˜¤ë§ˆì¹´ì„¸",address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ 35ê¸¸ 19",road_address_name:"ì„œìš¸ ë§ˆí¬êµ¬ ì™€ìš°ì‚°ë¡œ35ê¸¸ 19",category_name:"ìŒì‹ì  > ì¼ì‹ > ì´ˆë°¥",phone:"02-322-9012",place_url:"https://place.map.kakao.com/72345",x:"126.926",y:"37.555"},
];

const mockSearch = (q) => {
  const l = q.toLowerCase();
  return MOCK_SEARCH_DB.filter(r =>
    r.place_name.toLowerCase().includes(l) ||
    r.address_name.toLowerCase().includes(l) ||
    r.category_name.toLowerCase().includes(l)
  ).slice(0, 6);
};

// ì¹´ì¹´ì˜¤ë§µ JavaScript SDK ê²€ìƒ‰ (ë¸Œë¼ìš°ì €ì—ì„œ ì‘ë™)
const kakaoSearch = async(q) => {
  // ì¹´ì¹´ì˜¤ SDKê°€ ë¡œë“œë˜ì§€ ì•Šì•˜ê±°ë‚˜ í‚¤ê°€ ì—†ìœ¼ë©´ Mock ë°ì´í„° ì‚¬ìš©
  if(!USE_KAKAO || !window.kakao || !window.kakao.maps || !window.kakao.maps.services) {
    console.log('ì¹´ì¹´ì˜¤ë§µ SDK ë¯¸ì‚¬ìš© - Mock ë°ì´í„°ë¡œ ê²€ìƒ‰');
    return mockSearch(q);
  }
  
  return new Promise((resolve) => {
    try {
      const ps = new window.kakao.maps.services.Places();
      
      ps.keywordSearch(q, (data, status) => {
        if(status === window.kakao.maps.services.Status.OK) {
          console.log('ì¹´ì¹´ì˜¤ë§µ ê²€ìƒ‰ ì„±ê³µ:', data.length, 'ê±´');
          resolve(data.slice(0, 8));
        } else {
          console.log('ì¹´ì¹´ì˜¤ë§µ ê²€ìƒ‰ ì‹¤íŒ¨, Mock ë°ì´í„° ì‚¬ìš©');
          resolve(mockSearch(q));
        }
      }, {
        category_group_code: 'FD6',  // ìŒì‹ì  ì¹´í…Œê³ ë¦¬
        size: 8
      });
    } catch(e) {
      console.error('ì¹´ì¹´ì˜¤ë§µ ê²€ìƒ‰ ì˜¤ë¥˜:', e);
      resolve(mockSearch(q));
    }
  });
};

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Fallback Mock ë°ì´í„° (DB ë¯¸ì—°ê²° ì‹œ)
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const FALLBACK_DATA = [];

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// ê³µí†µ ì»´í¬ë„ŒíŠ¸
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
const avg=(rv)=>rv.length?rv.reduce((s,r)=>s+r.rating,0)/rv.length:0;
const exCat=(s)=>{if(!s)return"";const p=s.split(" > ");return p.length>1?p.slice(1).join(" > "):p[0]};

const Stars=({rating,size=18})=>{
  const f=Math.floor(rating),h=rating-f>=.25&&rating-f<.75,e=5-f-(h?1:0);
  return React.createElement("span",{style:{display:"inline-flex",gap:2,alignItems:"center"}},[
    ...Array(f).fill(0).map((_,i)=>React.createElement("svg",{key:"f"+i,width:size,height:size,viewBox:"0 0 24 24",fill:"var(--brand)",stroke:"none"},React.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))),
    h&&React.createElement("svg",{key:"h",width:size,height:size,viewBox:"0 0 24 24"},React.createElement("defs",null,React.createElement("linearGradient",{id:"hs"},React.createElement("stop",{offset:"50%",stopColor:"var(--brand)"}),React.createElement("stop",{offset:"50%",stopColor:"var(--neutral-200)"}))),React.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z",fill:"url(#hs)"})),
    ...Array(e).fill(0).map((_,i)=>React.createElement("svg",{key:"e"+i,width:size,height:size,viewBox:"0 0 24 24",fill:"var(--neutral-200)",stroke:"none"},React.createElement("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}))),
  ].filter(Boolean));
};

const StarInput=({value,onChange})=>(
  <div style={{display:"flex",gap:6,cursor:"pointer"}}>
    {[1,2,3,4,5].map(s=><svg key={s} width={28} height={28} viewBox="0 0 24 24" fill={s<=value?"var(--brand)":"var(--neutral-200)"} stroke="none" onClick={()=>onChange(s)} style={{transition:"transform .15s,fill .2s",cursor:"pointer"}} onMouseEnter={e=>e.currentTarget.style.transform="scale(1.2)"} onMouseLeave={e=>e.currentTarget.style.transform="scale(1)"}><path d="M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"/></svg>)}
  </div>
);

const Pin=({size=16,color="currentColor"})=><svg width={size} height={size} viewBox="0 0 24 24" fill={color}><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z"/></svg>;

// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
// Main App
// â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
function App(){
  const [rests,setRests]=useState([]);
  const [loading,setLoading]=useState(true);
  const [view,setView]=useState("list");
  const [selId,setSelId]=useState(null);
  const [anim,setAnim]=useState(false);
  const [mounted,setMounted]=useState(false);
  const [sq,setSq]=useState("");
  const [sr,setSr]=useState([]);
  const [searching,setSearching]=useState(false);
  const [searched,setSearched]=useState(false);
  const [picked,setPicked]=useState(null);
  const timer=useRef(null);
  const [rn,setRn]=useState("");
  const [rr,setRr]=useState(0);
  const [rc,setRc]=useState("");
  const sel=rests.find(r=>r.id===selId);

  // ì´ˆê¸° ë°ì´í„° ë¡œë“œ
  useEffect(()=>{
    (async()=>{
      try {
        if(USE_DB){
          const data=await loadFromDB();
          setRests(data);
        } else {
          setRests(FALLBACK_DATA);
        }
      } catch(e){ console.error("DB load error:",e); setRests(FALLBACK_DATA); }
      setLoading(false);
      setTimeout(()=>setMounted(true),100);
    })();
  },[]);

  const nav=(to,id=null)=>{setAnim(true);setTimeout(()=>{setView(to);setSelId(id);setAnim(false);if(to==="add"){setSq("");setSr([]);setSearched(false);setPicked(null)}window.scrollTo({top:0,behavior:"smooth"})},200)};

  const doSearch=(v)=>{
    setSq(v);setPicked(null);
    if(timer.current)clearTimeout(timer.current);
    if(v.trim().length<2){setSr([]);setSearched(false);return}
    timer.current=setTimeout(async()=>{setSearching(true);const r=await kakaoSearch(v.trim());setSr(r);setSearched(true);setSearching(false)},400);
  };

  const pick=(p)=>{setPicked(p);setSr([]);setSq(p.place_name)};

  const addPlace=async()=>{
    if(!picked)return;
    const newData = { name:picked.place_name, address:picked.road_address_name||picked.address_name, category:exCat(picked.category_name), phone:picked.phone||"", mapLink:picked.place_url||"https://map.kakao.com" };
    if(USE_DB){
      try{
        const row=await addRestaurantToDB(newData);
        setRests(prev=>[{id:row.id,...newData,reviews:[]},...prev]);
      }catch(e){console.error(e); setRests(prev=>[{id:Date.now(),...newData,reviews:[]},...prev])}
    } else {
      setRests(prev=>[{id:Date.now(),...newData,reviews:[]},...prev]);
    }
    nav("list");
  };

  const addReview=async()=>{
    if(!rn.trim()||!rr||!rc.trim())return;
    const newData = { nickname:rn.trim(), rating:rr, comment:rc.trim() };
    if(USE_DB){
      try{
        const row=await addReviewToDB(selId, newData);
        setRests(prev=>prev.map(r=>r.id===selId?{...r,reviews:[{id:row.id,...newData,createdAt:row.created_at.slice(0,10)},...r.reviews]}:r));
      }catch(e){console.error(e); setRests(prev=>prev.map(r=>r.id===selId?{...r,reviews:[{id:Date.now(),...newData,createdAt:new Date().toISOString().slice(0,10)},...r.reviews]}:r))}
    } else {
      setRests(prev=>prev.map(r=>r.id===selId?{...r,reviews:[{id:Date.now(),...newData,createdAt:new Date().toISOString().slice(0,10)},...r.reviews]}:r));
    }
    setRn("");setRr(0);setRc("");
  };

  const sorted=[...rests].sort((a,b)=>{const aa=avg(a.reviews),bb=avg(b.reviews);return bb!==aa?bb-aa:b.reviews.length-a.reviews.length});

  if(loading) return <div style={{display:"flex",alignItems:"center",justifyContent:"center",minHeight:"100vh",fontFamily:"'Noto Sans KR',sans-serif",color:"var(--neutral-400)",fontSize:15}}>ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>;

  return(
    <div style={{minHeight:"100vh",background:"var(--bg)",fontFamily:"'Noto Sans KR',sans-serif"}}>

      {/* Header */}
      <header style={{position:"sticky",top:0,zIndex:50,background:"rgba(250,247,244,.85)",backdropFilter:"blur(20px)",WebkitBackdropFilter:"blur(20px)",borderBottom:"1px solid var(--neutral-200)"}}>
        <div className="container-main" style={{maxWidth:960,margin:"0 auto",padding:"0 32px",height:64,display:"flex",alignItems:"center",justifyContent:"space-between"}}>
          <div style={{fontWeight:900,fontSize:22,letterSpacing:"-.04em",color:"var(--neutral-900)",cursor:"pointer"}} onClick={()=>nav("list")}>ë§›ì§‘<span style={{color:"var(--brand)"}}>ê¸°ë¡</span></div>
          <div style={{display:"flex",alignItems:"center",gap:12}}>
            {/* DB ì—°ê²° ìƒíƒœ í‘œì‹œ */}
            <div style={{display:"inline-flex",alignItems:"center",gap:5,padding:"4px 10px",borderRadius:100,fontSize:11,fontWeight:600,background:USE_DB?"#E8F5E9":"var(--neutral-100)",color:USE_DB?"#2E7D32":"var(--neutral-500)"}}>
              <div style={{width:6,height:6,borderRadius:"50%",background:USE_DB?"#4CAF50":"var(--neutral-400)"}}/>
              {USE_DB?"DB ì—°ê²°ë¨":"ë¡œì»¬ ëª¨ë“œ"}
            </div>
            <button className="btn-primary" style={{padding:"10px 22px",fontSize:14}} onClick={()=>nav("add")}>+ ë§›ì§‘ ë“±ë¡</button>
          </div>
        </div>
      </header>

      <main className={`container-main ${anim?"page-exit":"page-enter"}`} style={{maxWidth:960,margin:"0 auto",padding:"0 32px",paddingBottom:80}}>

        {/* LIST */}
        {view==="list"&&<div>
          <div style={{padding:"var(--space-2xl) 0 var(--space-xl)",opacity:mounted?1:0,transform:mounted?"translateY(0)":"translateY(20px)",transition:"all .6s cubic-bezier(.22,1,.36,1)"}}>
            <h1 className="hero-title" style={{fontSize:38,fontWeight:900,color:"var(--neutral-900)",letterSpacing:"-.04em",lineHeight:1.25,marginBottom:12}}>ë‚˜ë§Œì˜ ë§›ì§‘ì„<br/><span style={{color:"var(--brand)"}}>ê¸°ë¡</span>í•˜ê³  <span style={{color:"var(--brand)"}}>ê³µìœ </span>í•˜ì„¸ìš”</h1>
            <p style={{fontSize:16,color:"var(--neutral-500)",letterSpacing:"-.02em",lineHeight:1.6}}>ì¹´ì¹´ì˜¤ë§µì—ì„œ ê²€ìƒ‰í•´ì„œ ë§›ì§‘ì„ ë“±ë¡í•˜ê³ , ë³„ì ê³¼ í•œì¤„í‰ì„ ë‚¨ê²¨ë³´ì„¸ìš”</p>
          </div>
          <div style={{display:"flex",gap:12,marginBottom:"var(--space-lg)",flexWrap:"wrap"}}>
            <div className="tag" style={{background:"var(--brand-bg)",color:"var(--brand-dark)"}}><Pin size={14}/>{rests.length}ê°œ ë§›ì§‘</div>
            <div className="tag" style={{background:"var(--neutral-100)",color:"var(--neutral-600)"}}><svg width={14} height={14} viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></svg>{rests.reduce((s,r)=>s+r.reviews.length,0)}ê°œ ë¦¬ë·°</div>
          </div>
          <div className="responsive-grid" style={{display:"grid",gridTemplateColumns:"repeat(2,1fr)",gap:20}}>
            {sorted.map((r,i)=>{const a=avg(r.reviews);return(
              <div key={r.id} className="card-item stagger-item" style={{animationDelay:`${i*.08}s`,background:"var(--surface)",borderRadius:"var(--radius-lg)",padding:"var(--space-lg)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--neutral-100)",display:"flex",flexDirection:"column",gap:14}} onClick={()=>nav("detail",r.id)}>
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start"}}>
                  <div style={{flex:1}}>
                    <h3 style={{fontSize:18,fontWeight:700,color:"var(--neutral-900)",letterSpacing:"-.03em",marginBottom:4}}>{r.name}</h3>
                    {r.category&&<span style={{fontSize:12,color:"var(--brand)",fontWeight:600,background:"var(--brand-bg)",padding:"2px 8px",borderRadius:100,display:"inline-block",marginBottom:4}}>{r.category}</span>}
                    <p style={{fontSize:13,color:"var(--neutral-400)",display:"flex",alignItems:"center",gap:4,marginTop:4}}><Pin size={13} color="var(--neutral-400)"/>{r.address}</p>
                  </div>
                  {a>0&&<div style={{background:a>=4.5?"var(--brand)":a>=3.5?"var(--brand-light)":"var(--neutral-300)",color:a>=3.5?"#fff":"var(--neutral-700)",borderRadius:"var(--radius-sm)",padding:"6px 10px",fontSize:16,fontWeight:800,minWidth:44,textAlign:"center"}}>{a.toFixed(1)}</div>}
                </div>
                <div style={{display:"flex",alignItems:"center",justifyContent:"space-between"}}>
                  <div style={{display:"flex",alignItems:"center",gap:8}}><Stars rating={a} size={16}/><span style={{fontSize:13,color:"var(--neutral-400)",fontWeight:500}}>ë¦¬ë·° {r.reviews.length}ê°œ</span></div>
                  <svg width={18} height={18} viewBox="0 0 24 24" fill="none" stroke="var(--neutral-300)" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M9 18l6-6-6-6"/></svg>
                </div>
              </div>
            )})}
          </div>
        </div>}

        {/* DETAIL */}
        {view==="detail"&&sel&&<div>
          <div style={{padding:"var(--space-lg) 0 var(--space-md)"}}><button className="btn-secondary" style={{padding:"8px 18px",fontSize:13,display:"inline-flex",alignItems:"center",gap:6}} onClick={()=>nav("list")}><svg width={16} height={16} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M15 18l-6-6 6-6"/></svg>ëª©ë¡ìœ¼ë¡œ</button></div>

          <div className="stagger-item" style={{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-xl)",boxShadow:"var(--shadow-md)",border:"1px solid var(--neutral-100)",marginBottom:"var(--space-xl)"}}>
            <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",flexWrap:"wrap",gap:16}}>
              <div style={{flex:1,minWidth:200}}>
                <h1 style={{fontSize:30,fontWeight:900,color:"var(--neutral-900)",letterSpacing:"-.04em",lineHeight:1.2,marginBottom:8}}>{sel.name}</h1>
                {sel.category&&<span style={{fontSize:12,color:"var(--brand)",fontWeight:600,background:"var(--brand-bg)",padding:"3px 10px",borderRadius:100,display:"inline-block",marginBottom:10}}>{sel.category}</span>}
                <p style={{fontSize:15,color:"var(--neutral-500)",display:"flex",alignItems:"center",gap:6,marginBottom:8}}><Pin size={16} color="var(--neutral-400)"/>{sel.address}</p>
                {sel.phone&&<p style={{fontSize:14,color:"var(--neutral-500)",display:"flex",alignItems:"center",gap:6,marginBottom:16}}><svg width={15} height={15} viewBox="0 0 24 24" fill="var(--neutral-400)"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z"/></svg>{sel.phone}</p>}
                <a href={sel.mapLink} target="_blank" rel="noopener noreferrer" style={{display:"inline-flex",alignItems:"center",gap:6,fontSize:14,fontWeight:600,color:"var(--brand)",textDecoration:"none",padding:"8px 16px",borderRadius:"var(--radius-sm)",background:"var(--brand-bg)"}}><Pin size={15} color="var(--brand)"/>ì¹´ì¹´ì˜¤ë§µì—ì„œ ë³´ê¸°</a>
              </div>
              <div style={{textAlign:"center",padding:"20px 28px",background:"linear-gradient(135deg,var(--brand-bg),#FFF0E8)",borderRadius:"var(--radius-lg)"}}>
                <div style={{fontSize:42,fontWeight:900,color:"var(--brand)",letterSpacing:"-.04em",lineHeight:1}}>{sel.reviews.length?avg(sel.reviews).toFixed(1):"â€”"}</div>
                <Stars rating={avg(sel.reviews)} size={18}/>
                <div style={{fontSize:13,color:"var(--neutral-500)",marginTop:6,fontWeight:500}}>ë¦¬ë·° {sel.reviews.length}ê°œ</div>
              </div>
            </div>
          </div>

          <div className="stagger-item" style={{animationDelay:".1s",background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-xl)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--neutral-100)",marginBottom:"var(--space-xl)"}}>
            <h2 style={{fontSize:18,fontWeight:700,color:"var(--neutral-900)",letterSpacing:"-.03em",marginBottom:"var(--space-lg)"}}>ë¦¬ë·° ì‘ì„±í•˜ê¸°</h2>
            <div style={{display:"flex",flexDirection:"column",gap:16}}>
              <div style={{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12}}>
                <div><label style={{display:"block",fontSize:13,fontWeight:600,color:"var(--neutral-600)",marginBottom:6}}>ë‹‰ë„¤ì„</label><input className="input-field" placeholder="ë‹‰ë„¤ì„ì„ ì…ë ¥í•˜ì„¸ìš”" value={rn} onChange={e=>setRn(e.target.value)}/></div>
                <div><label style={{display:"block",fontSize:13,fontWeight:600,color:"var(--neutral-600)",marginBottom:6}}>ë³„ì </label><div style={{paddingTop:8}}><StarInput value={rr} onChange={setRr}/></div></div>
              </div>
              <div><label style={{display:"block",fontSize:13,fontWeight:600,color:"var(--neutral-600)",marginBottom:6}}>í•œì¤„í‰</label><input className="input-field" placeholder="ì´ ë§›ì§‘ì— ëŒ€í•œ í•œì¤„í‰ì„ ë‚¨ê²¨ì£¼ì„¸ìš”" value={rc} onChange={e=>setRc(e.target.value)}/></div>
              <div style={{display:"flex",justifyContent:"flex-end"}}><button className="btn-primary" disabled={!rn.trim()||!rr||!rc.trim()} onClick={addReview}>ë¦¬ë·° ë“±ë¡</button></div>
            </div>
          </div>

          <div className="stagger-item" style={{animationDelay:".2s"}}>
            <h2 style={{fontSize:18,fontWeight:700,color:"var(--neutral-900)",letterSpacing:"-.03em",marginBottom:"var(--space-lg)"}}>ë¦¬ë·° {sel.reviews.length}ê°œ</h2>
            {sel.reviews.length===0?
              <div style={{background:"var(--surface)",borderRadius:"var(--radius-lg)",padding:"var(--space-2xl) var(--space-lg)",textAlign:"center",border:"1px dashed var(--neutral-200)"}}><div style={{fontSize:40,marginBottom:12}}>ğŸ“</div><p style={{fontSize:15,color:"var(--neutral-400)",fontWeight:500}}>ì•„ì§ ë¦¬ë·°ê°€ ì—†ì–´ìš”</p><p style={{fontSize:13,color:"var(--neutral-300)",marginTop:4}}>ì²« ë²ˆì§¸ ë¦¬ë·°ë¥¼ ë‚¨ê²¨ë³´ì„¸ìš”!</p></div>
            :<div style={{display:"flex",flexDirection:"column",gap:12}}>
              {sel.reviews.map((rv,i)=><div key={rv.id} className="review-item" style={{animationDelay:`${i*.06}s`,background:"var(--surface)",borderRadius:"var(--radius-md)",padding:"var(--space-lg)",boxShadow:"var(--shadow-sm)",border:"1px solid var(--neutral-100)"}}>
                <div style={{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:10}}>
                  <div style={{display:"flex",alignItems:"center",gap:10}}>
                    <div style={{width:34,height:34,borderRadius:"50%",background:`hsl(${(rv.nickname.charCodeAt(0)*47)%360},45%,88%)`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:14,fontWeight:700,color:`hsl(${(rv.nickname.charCodeAt(0)*47)%360},40%,40%)`}}>{rv.nickname[0]}</div>
                    <div><div style={{fontSize:14,fontWeight:600,color:"var(--neutral-800)"}}>{rv.nickname}</div><div style={{fontSize:12,color:"var(--neutral-400)"}}>{rv.createdAt}</div></div>
                  </div>
                  <Stars rating={rv.rating} size={14}/>
                </div>
                <p style={{fontSize:15,color:"var(--neutral-700)",lineHeight:1.6,letterSpacing:"-.02em"}}>{rv.comment}</p>
              </div>)}
            </div>}
          </div>
        </div>}

        {/* ADD */}
        {view==="add"&&<div style={{maxWidth:600,margin:"0 auto"}}>
          <div style={{padding:"var(--space-xl) 0 var(--space-lg)"}}><button className="btn-secondary" style={{padding:"8px 18px",fontSize:13,display:"inline-flex",alignItems:"center",gap:6}} onClick={()=>nav("list")}><svg width={16} height={16} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M15 18l-6-6 6-6"/></svg>ëª©ë¡ìœ¼ë¡œ</button></div>

          <div className="stagger-item" style={{background:"var(--surface)",borderRadius:"var(--radius-xl)",padding:"var(--space-xl)",boxShadow:"var(--shadow-md)",border:"1px solid var(--neutral-100)"}}>
            <div style={{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:8,flexWrap:"wrap",gap:8}}>
              <h1 style={{fontSize:26,fontWeight:900,color:"var(--neutral-900)",letterSpacing:"-.04em"}}>ë§›ì§‘ ê²€ìƒ‰ & ë“±ë¡</h1>
              <div style={{display:"inline-flex",alignItems:"center",gap:5,padding:"4px 10px",borderRadius:100,fontSize:11,fontWeight:600,background:USE_KAKAO?"#E8F5E9":"var(--neutral-100)",color:USE_KAKAO?"#2E7D32":"var(--neutral-500)"}}>
                <div style={{width:6,height:6,borderRadius:"50%",background:USE_KAKAO?"#4CAF50":"var(--neutral-400)"}}/>
                {USE_KAKAO?"ì¹´ì¹´ì˜¤ API ì—°ë™ë¨":"ë°ëª¨ ëª¨ë“œ"}
              </div>
            </div>
            <p style={{fontSize:14,color:"var(--neutral-400)",marginBottom:"var(--space-xl)",letterSpacing:"-.02em"}}>ê°€ê²Œ ì´ë¦„ì´ë‚˜ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•˜ë©´ ì¹´ì¹´ì˜¤ë§µì—ì„œ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤</p>

            <div style={{position:"relative",marginBottom:picked?20:0}}>
              <div style={{position:"relative"}}>
                <div style={{position:"absolute",left:16,top:"50%",transform:"translateY(-50%)",color:"var(--neutral-400)",zIndex:1}}>
                  <svg width={18} height={18} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><path d="m21 21-4.35-4.35"/></svg>
                </div>
                <input className="input-field" style={{paddingLeft:44,fontSize:16}} placeholder="ë§›ì§‘ ì´ë¦„ì„ ê²€ìƒ‰í•˜ì„¸ìš” (ì˜ˆ: ì„ì§€ë¡œ, íŒŒìŠ¤íƒ€, ë²„ê±°)" value={sq} onChange={e=>doSearch(e.target.value)}/>
                {searching&&<div style={{position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"}}><div style={{width:18,height:18,border:"2px solid var(--neutral-200)",borderTopColor:"var(--brand)",borderRadius:"50%",animation:"spin .6s linear infinite"}}/></div>}
              </div>

              {sr.length>0&&!picked&&<div style={{position:"absolute",top:"100%",left:0,right:0,zIndex:20,background:"var(--surface)",borderRadius:"0 0 var(--radius-md) var(--radius-md)",boxShadow:"var(--shadow-lg)",border:"1px solid var(--neutral-200)",borderTop:"none",maxHeight:360,overflowY:"auto"}}>
                {sr.map((p,i)=><div key={i} className="search-item" onClick={()=>pick(p)}>
                  <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12}}>
                    <div style={{flex:1}}>
                      <div style={{fontSize:15,fontWeight:600,color:"var(--neutral-800)",letterSpacing:"-.02em",marginBottom:4}}>{p.place_name}</div>
                      <div style={{fontSize:13,color:"var(--neutral-500)",marginBottom:2}}>{p.road_address_name||p.address_name}</div>
                      {p.category_name&&<span style={{fontSize:11,color:"var(--brand)",fontWeight:500}}>{exCat(p.category_name)}</span>}
                    </div>
                    <div style={{flexShrink:0,width:28,height:28,borderRadius:"50%",border:"1.5px solid var(--neutral-200)",display:"flex",alignItems:"center",justifyContent:"center",color:"var(--neutral-400)"}}>
                      <svg width={14} height={14} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2.5} strokeLinecap="round" strokeLinejoin="round"><path d="M12 5v14M5 12h14"/></svg>
                    </div>
                  </div>
                </div>)}
              </div>}

              {searched&&sr.length===0&&sq.trim().length>=2&&!picked&&!searching&&
                <div style={{position:"absolute",top:"100%",left:0,right:0,zIndex:20,background:"var(--surface)",borderRadius:"0 0 var(--radius-md) var(--radius-md)",boxShadow:"var(--shadow-lg)",border:"1px solid var(--neutral-200)",borderTop:"none",padding:"24px 20px",textAlign:"center"}}>
                  <p style={{fontSize:14,color:"var(--neutral-400)"}}>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ì–´ìš”</p><p style={{fontSize:13,color:"var(--neutral-300)",marginTop:4}}>ë‹¤ë¥¸ í‚¤ì›Œë“œë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
                </div>}
            </div>

            {picked&&<div style={{background:"linear-gradient(135deg,var(--brand-bg),#FFF0E8)",border:"1.5px solid var(--brand-light)",borderRadius:"var(--radius-lg)",padding:"20px 24px",animation:"fadeUp .3s ease forwards",marginBottom:20}}>
              <div style={{display:"flex",justifyContent:"space-between",alignItems:"flex-start",gap:12}}>
                <div style={{flex:1}}>
                  <div style={{display:"flex",alignItems:"center",gap:8,marginBottom:8}}><Pin size={20} color="var(--brand)"/><span style={{fontSize:18,fontWeight:700,color:"var(--neutral-900)",letterSpacing:"-.03em"}}>{picked.place_name}</span></div>
                  <div style={{display:"flex",flexDirection:"column",gap:4,marginLeft:28}}>
                    <span style={{fontSize:14,color:"var(--neutral-600)"}}>{picked.road_address_name||picked.address_name}</span>
                    {picked.category_name&&<span style={{fontSize:13,color:"var(--brand)",fontWeight:500}}>{exCat(picked.category_name)}</span>}
                    {picked.phone&&<span style={{fontSize:13,color:"var(--neutral-500)"}}>ğŸ“ {picked.phone}</span>}
                  </div>
                  {picked.place_url&&<a href={picked.place_url} target="_blank" rel="noopener noreferrer" style={{display:"inline-block",marginLeft:28,marginTop:10,fontSize:13,color:"var(--brand-dark)",textDecoration:"none",fontWeight:500}}>ì¹´ì¹´ì˜¤ë§µì—ì„œ í™•ì¸ â†’</a>}
                </div>
                <button onClick={()=>{setPicked(null);setSq("")}} style={{background:"none",border:"none",cursor:"pointer",padding:4,color:"var(--neutral-400)"}}><svg width={20} height={20} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth={2} strokeLinecap="round" strokeLinejoin="round"><path d="M18 6L6 18M6 6l12 12"/></svg></button>
              </div>
            </div>}

            {picked&&<div style={{display:"flex",gap:12,justifyContent:"flex-end"}}>
              <button className="btn-secondary" onClick={()=>{setPicked(null);setSq("")}}>ë‹¤ì‹œ ê²€ìƒ‰</button>
              <button className="btn-primary" onClick={addPlace}>ì´ ë§›ì§‘ ë“±ë¡í•˜ê¸°</button>
            </div>}

            {!picked&&!searched&&sq.length===0&&<div style={{marginTop:32,padding:"28px 24px",background:"var(--neutral-50)",borderRadius:"var(--radius-lg)",textAlign:"center"}}>
              <div style={{fontSize:36,marginBottom:12}}>ğŸ”</div>
              <p style={{fontSize:15,color:"var(--neutral-500)",fontWeight:500,marginBottom:6}}>ê°€ê²Œ ì´ë¦„ìœ¼ë¡œ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
              <p style={{fontSize:13,color:"var(--neutral-400)",lineHeight:1.6}}>ì¹´ì¹´ì˜¤ë§µ ë°ì´í„°ì—ì„œ ì£¼ì†Œ, ì¹´í…Œê³ ë¦¬, ì „í™”ë²ˆí˜¸ë¥¼<br/>ìë™ìœ¼ë¡œ ê°€ì ¸ì˜µë‹ˆë‹¤</p>
              <div style={{display:"flex",gap:8,justifyContent:"center",marginTop:16,flexWrap:"wrap"}}>
                {["ì„ì§€ë¡œ","íŒŒìŠ¤íƒ€","ë²„ê±°","ë–¡ë³¶ì´","íƒ€ì½”"].map(kw=><button key={kw} onClick={()=>{setSq(kw);doSearch(kw)}} style={{background:"var(--surface)",border:"1px solid var(--neutral-200)",borderRadius:100,padding:"7px 16px",fontSize:13,fontWeight:500,color:"var(--neutral-600)",cursor:"pointer",transition:"all .15s",fontFamily:"'Noto Sans KR',sans-serif"}} onMouseEnter={e=>{e.currentTarget.style.borderColor="var(--brand)";e.currentTarget.style.color="var(--brand)"}} onMouseLeave={e=>{e.currentTarget.style.borderColor="var(--neutral-200)";e.currentTarget.style.color="var(--neutral-600)"}}>{kw}</button>)}
              </div>
            </div>}
          </div>
        </div>}
      </main>

      <footer style={{textAlign:"center",padding:"var(--space-xl) var(--space-lg)",borderTop:"1px solid var(--neutral-100)",fontSize:13,color:"var(--neutral-400)"}}>ë§›ì§‘ê¸°ë¡ â€” ë‚˜ë§Œì˜ ë§›ì§‘ ë¦¬ë·° ì„œë¹„ìŠ¤</footer>
    </div>
  );
}

ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
